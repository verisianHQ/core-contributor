Authorities:
  - Organization: CDISC
    Standards:
      - Name: SDTMIG
        References:
          - Citations:
              - Cited Guidance: The Study Day value is incremented by 1 for each date following
                  RFSTDTC. Dates prior to RFSTDTC are decreased by 1, with the
                  date preceding RFSTDTC designated as Study Day -1 (there is no
                  Study Day 0)....All Study Day values are integers. Thus to
                  calculate Study Day, --DY = (date portion of --DTC) - (date
                  portion of RFSTDTC) + 1 if --DTC is on or after RFSTDTC, --DY
                  = (date portion of --DTC) - (date portion of RFSTDTC) if --DTC
                  precedes RFSTDTC. This algorithm should be used across all
                  domains.
                Document: SDTMIG v3.4
                Section: 4.4.4
            Origin: SDTM and SDTMIG Conformance Rules
            Rule Identifier:
              Id: CG0006
              Version: '2'
            Version: '2.0'
        Version: '3.4'
      - Name: SDTMIG
        References:
          - Citations:
              - Cited Guidance: 'IG v3.2[4.1.4.4][The Study Day value is incremented by 1 for
                  each date following RFSTDTC. Dates prior to RFSTDTC are
                  decreased by 1, with the date preceding RFSTDTC designated as
                  Study Day -1 (there is no Study Day 0). . . . All Study Day
                  values are integers.]IG v3.2[4.1.4.4][Thus, to calculate Study
                  Day:  --DY = (date portion of --DTC) - (date portion of
                  RFSTDTC) + 1 if --DTC is on or after RFSTDTC --DY = (date
                  portion of --DTC) - (date portion of RFSTDTC) if --DTC
                  precedes RFSTDTC This algorithm should be used across all
                  domains.]'
                Document: IG v3.2
                Section: 4.1.4.4
            Origin: SDTM and SDTMIG Conformance Rules
            Rule Identifier:
              Id: CG0006
              Version: '2'
            Version: '2.0'
        Version: '3.2'
      - Name: SDTMIG
        References:
          - Citations:
              - Cited Guidance: 'IG v3.3[4.4.4][The Study Day value is incremented by 1 for each
                  date following RFSTDTC. Dates prior to RFSTDTC are decreased
                  by 1, with the date preceding RFSTDTC designated as Study Day
                  -1 (there is no Study Day 0). . . . All Study Day values are
                  integers.] IG v3.3[4.4.4][ Thus, to calculate Study Day:  --DY
                  = (date portion of --DTC) - (date portion of RFSTDTC) + 1 if
                  --DTC is on or after RFSTDTC --DY = (date portion of --DTC) -
                  (date portion of RFSTDTC) if --DTC precedes RFSTDTC This
                  algorithm should be used across all domains.]'
                Document: IG v3.3
                Section: 4.4.4
            Origin: SDTM and SDTMIG Conformance Rules
            Rule Identifier:
              Id: CG0006
              Version: '2'
            Version: '2.0'
        Version: '3.3'
      - Name: TIG
        References:
          - Citations:
              - Cited Guidance: All relative day values will be integers and there will be no
                  study day 0. The reference start date is considered day 1 and
                  the study day value is increased by 1 for each date following
                  the reference start date and decreased by 1 for each date
                  prior to the reference start date, e.g.; --DY = (date portion
                  of --DTC) - (date portion of RFSTDTC) + 1 if --DTC is on or
                  after RFSTDTC --DY = (date portion of --DTC) - (date portion
                  of RFSTDTC) if --DTC precedes RFSTDTC
                Document: TIG v1.0
                Item: Table 1 Num 1
                Section: 2.8.7.6
            Origin: TIG Conformance Rules
            Rule Identifier:
              Id: TIG0291
              Version: '1'
            Version: '1.0'
        Substandard: SDTM
        Version: '1.0'
      - Name: SENDIG
        References:
          - Citations:
              - Cited Guidance: All Study Day values are integers. Thus, to calculate Study Day
                  --DY = (date portion of --DTC) minus (date portion of RFSTDTC)
                  + 1 if --DTC is on or after RFSTDTC.
                Document: SENDIG v3.0
                Item: Text
                Section: 4.4.4
            Origin: SEND Conformance Rules
            Rule Identifier:
              Id: SEND73
              Version: '1'
            Version: '5.0'
        Version: '3.0'
      - Name: SENDIG
        References:
          - Citations:
              - Cited Guidance: All Study Day values are integers. Thus, to calculate Study Day
                  --DY = (date portion of --DTC) minus (date portion of RFSTDTC)
                  + 1 if --DTC is on or after RFSTDTC.
                Document: SENDIG v3.1
                Item: Text
                Section: 4.4.4
            Origin: SEND Conformance Rules
            Rule Identifier:
              Id: SEND73
              Version: '1'
            Version: '5.0'
        Version: '3.1'
      - Name: SENDIG
        References:
          - Citations:
              - Cited Guidance: All Study Day values are integers. Thus, to calculate Study Day
                  --DY = (date portion of --DTC) minus (date portion of RFSTDTC)
                  + 1 if --DTC is on or after RFSTDTC.
                Document: SENDIG v3.1.1
                Item: Text
                Section: 4.4.4
            Origin: SEND Conformance Rules
            Rule Identifier:
              Id: SEND73
              Version: '1'
            Version: '5.0'
        Version: 3.1.1
      - Name: SENDIG-DART
        References:
          - Citations:
              - Cited Guidance: All Study Day values are integers. Thus, to calculate Study Day
                  --DY = (date portion of --DTC) minus (date portion of RFSTDTC)
                  + 1 if --DTC is on or after RFSTDTC.
                Document: SENDIG v3.1
                Item: Text
                Section: 4.4.4
            Origin: SEND Conformance Rules
            Rule Identifier:
              Id: SEND73
              Version: '1'
            Version: '5.0'
        Version: '1.1'
      - Name: SENDIG-DART
        References:
          - Citations:
              - Cited Guidance: All Study Day values are integers. Thus, to calculate Study Day
                  --DY = (date portion of --DTC) minus (date portion of RFSTDTC)
                  + 1 if --DTC is on or after RFSTDTC.
                Document: SENDIG v3.1.1
                Item: Text
                Section: 4.4.4
            Origin: SEND Conformance Rules
            Rule Identifier:
              Id: SEND73
              Version: '1'
            Version: '5.0'
        Version: '1.2'
      - Name: SENDIG-GENETOX
        References:
          - Citations:
              - Cited Guidance: All Study Day values are integers. Thus, to calculate Study Day
                  --DY = (date portion of --DTC) minus (date portion of RFSTDTC)
                  + 1 if --DTC is on or after RFSTDTC.
                Document: SENDIG v3.1.1
                Item: Text
                Section: 4.4.4
            Origin: SEND Conformance Rules
            Rule Identifier:
              Id: SEND73
              Version: '1'
            Version: '5.0'
        Version: '1.0'
      - Name: TIG
        References:
          - Citations:
              - Cited Guidance: "All Study Day values are integers. Thus, to calculate Study
                  Day: --DY = (date portion of --DTC) - (date portion of
                  RFSTDTC) + 1 if --DTC is on or after RFSTDTC"
                Document: TIG v1.0
                Item: Text
                Section: 2.8.7.6
            Origin: TIG Conformance Rules
            Rule Identifier:
              Id: TIG0274
              Version: '1'
            Version: '1.0'
        Substandard: SEND
        Version: '1.0'
      - Name: SENDIG
        References:
          - Citations:
              - Cited Guidance: All Study Day values are integers. Thus, to calculate Study Day.
                  --DY = (date portion of --DTC) - (date portion of RFSTDTC) if
                  --DTC precedes RFSTDTC
                Document: SENDIG v3.0
                Item: Text
                Section: 4.4.4
            Origin: SEND Conformance Rules
            Rule Identifier:
              Id: SEND74
              Version: '2'
            Version: '5.0'
        Version: '3.0'
      - Name: SENDIG
        References:
          - Citations:
              - Cited Guidance: All Study Day values are integers. Thus, to calculate Study Day.
                  --DY = (date portion of --DTC) - (date portion of RFSTDTC) if
                  --DTC precedes RFSTDTC
                Document: SENDIG v3.1
                Item: Text
                Section: 4.4.4
            Origin: SEND Conformance Rules
            Rule Identifier:
              Id: SEND74
              Version: '2'
            Version: '5.0'
        Version: '3.1'
      - Name: SENDIG
        References:
          - Citations:
              - Cited Guidance: All Study Day values are integers. Thus, to calculate Study Day.
                  --DY = (date portion of --DTC) - (date portion of RFSTDTC) if
                  --DTC precedes RFSTDTC
                Document: SENDIG v3.1.1
                Item: Text
                Section: 4.4.4
            Origin: SEND Conformance Rules
            Rule Identifier:
              Id: SEND74
              Version: '2'
            Version: '5.0'
        Version: 3.1.1
      - Name: SENDIG-DART
        References:
          - Citations:
              - Cited Guidance: All Study Day values are integers. Thus, to calculate Study Day.
                  --DY = (date portion of --DTC) - (date portion of RFSTDTC) if
                  --DTC precedes RFSTDTC
                Document: SENDIG v3.1
                Item: Text
                Section: 4.4.4
            Origin: SEND Conformance Rules
            Rule Identifier:
              Id: SEND74
              Version: '2'
            Version: '5.0'
        Version: '1.1'
      - Name: SENDIG-DART
        References:
          - Citations:
              - Cited Guidance: All Study Day values are integers. Thus, to calculate Study Day.
                  --DY = (date portion of --DTC) - (date portion of RFSTDTC) if
                  --DTC precedes RFSTDTC
                Document: SENDIG v3.1.1
                Item: Text
                Section: 4.4.4
            Origin: SEND Conformance Rules
            Rule Identifier:
              Id: SEND74
              Version: '2'
            Version: '5.0'
        Version: '1.2'
      - Name: SENDIG-GENETOX
        References:
          - Citations:
              - Cited Guidance: All Study Day values are integers. Thus, to calculate Study Day.
                  --DY = (date portion of --DTC) - (date portion of RFSTDTC) if
                  --DTC precedes RFSTDTC
                Document: SENDIG v3.1.1
                Item: Text
                Section: 4.4.4
            Origin: SEND Conformance Rules
            Rule Identifier:
              Id: SEND74
              Version: '2'
            Version: '5.0'
        Version: '1.0'
      - Name: TIG
        References:
          - Citations:
              - Cited Guidance: "All Study Day values are integers. Thus, to calculate Study
                  Day: --DY = (date portion of --DTC) - (date portion of
                  RFSTDTC) if --DTC precedes RFSTDTC"
                Document: TIG v1.0
                Item: Text
                Section: 2.8.7.6
            Origin: TIG Conformance Rules
            Rule Identifier:
              Id: TIG0275
              Version: '1'
            Version: '1.0'
        Substandard: SEND
        Version: '1.0'
  - Organization: 'FDA'
    Standards:
      - Name: 'SDTMIG'
        References:
          - Citations:
              - Cited Guidance: Collection study day should be populated when date/time of
                  collection is available.
                Document: FDA
                Section: FDAB016
            Origin: FDA Business Rules
            Rule Identifier:
              Id: FB1603
              Version: '1'
            Version: '1.5'
        Version: '3.2'
      - Name: 'SDTMIG'
        References:
          - Citations:
              - Cited Guidance: Collection study day should be populated when date/time of
                  collection is available.
                Document: FDA
                Section: FDAB016
            Origin: FDA Business Rules
            Rule Identifier:
              Id: FB1603
              Version: '1'
            Version: '1.5'
        Version: '3.3'
      - Name: 'SDTMIG'
        References:
          - Citations:
              - Cited Guidance: Collection study day should be populated when date/time of
                  collection is available.
                Document: FDA
                Section: FDAB016
            Origin: FDA Business Rules
            Rule Identifier:
              Id: FB1603
              Version: '1'
            Version: '1.5'
        Version: '3.4'
      - Name: 'SENDIG'
        References:
          - Citations:
              - Cited Guidance: Collection study day should be populated when date/time of
                  collection is available.
                Document: FDA
                Section: FDAB016
            Origin: FDA Business Rules
            Rule Identifier:
              Id: FB1603
              Version: '1'
            Version: '1.5'
        Version: '3.0'
      - Name: 'SENDIG'
        References:
          - Citations:
              - Cited Guidance: Collection study day should be populated when date/time of
                  collection is available.
                Document: FDA
                Section: FDAB016
            Origin: FDA Business Rules
            Rule Identifier:
              Id: FB1603
              Version: '1'
            Version: '1.5'
        Version: '3.1'
      - Name: 'SENDIG'
        References:
          - Citations:
              - Cited Guidance: Collection study day should be populated when date/time of
                  collection is available.
                Document: FDA
                Section: FDAB016
            Origin: FDA Business Rules
            Rule Identifier:
              Id: FB1603
              Version: '1'
            Version: '1.5'
        Version: '3.1.1'
      - Name: 'SENDIG-GENETOX'
        References:
          - Citations:
              - Cited Guidance: Collection study day should be populated when date/time of
                  collection is available.
                Document: FDA
                Section: FDAB016
            Origin: FDA Business Rules
            Rule Identifier:
              Id: FB1603
              Version: '1'
            Version: '1.5'
        Version: '1.0'
      - Name: 'SENDIG-DART'
        References:
          - Citations:
              - Cited Guidance: Collection study day should be populated when date/time of
                  collection is available.
                Document: FDA
                Section: FDAB016
            Origin: FDA Business Rules
            Rule Identifier:
              Id: FB1603
              Version: '1'
            Version: '1.5'
        Version: '1.1'
      - Name: 'SENDIG-DART'
        References:
          - Citations:
              - Cited Guidance: Collection study day should be populated when date/time of
                  collection is available.
                Document: FDA
                Section: FDAB016
            Origin: FDA Business Rules
            Rule Identifier:
              Id: FB1603
              Version: '1'
            Version: '1.5'
        Version: '1.2'
      - Name: 'SENDIG-AR'
        References:
          - Citations:
              - Cited Guidance: Collection study day should be populated when date/time of
                  collection is available.
                Document: FDA
                Section: FDAB016
            Origin: FDA Business Rules
            Rule Identifier:
              Id: FB1603
              Version: '1'
            Version: '1.5'
        Version: '1.0'
Check:
  all:
    - name: --DY
      operator: non_empty
    - name: --DTC
      operator: is_complete_date
    - name: RFSTDTC
      operator: is_complete_date
    - name: --DY # checking failure criteria
      operator: not_equal_to
      value: $val_dy # this is created in the operations statement that follows
Core:
  Id: CORE-000529
  Status: Published
  Version: '1'
Description: Raise an error when --DY is not calculated as per the study day
  algorithm as a non-zero integer value when the date portion of --DTC is
  complete and the date portion of DM.RFSTDTC is a complete date AND --DY is not
  empty
Executability: Fully Executable
Match Datasets:
  - Keys:
      - USUBJID
    Name: DM
Operations:
  - id: $val_dy # ex in devops 2538 used -- but that threw an error
    name: --DTC
    operator: dy # does dy op take into acct +1?
Outcome:
  Message: --DY is not calculated correctly even though the date portion of --DTC
    is complete, the date portion of DM.RFSTDTC is a complete date, and --DY is
    not empty.
  Output Variables:
    - $val_dy
    - --DY
    - --DTC
    - RFSTDTC
Rule Type: Record Data
Scope:
  Classes:
    Include:
      - ALL
  Domains:
    Include:
      - ALL
  Use Case: NONCLIN, INDH, PROD
Sensitivity: Record
