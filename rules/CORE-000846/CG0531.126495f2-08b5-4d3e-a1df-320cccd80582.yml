# Variable: 
# Condition: RACE = MULTIPLE
# Rule: Multiple SUPPDM.QNAM records exist for the subject
Authorities:
  - Organization: CDISC
    Standards:
      - Name: SDTMIG
        References:
          - Citations:
              - Cited Guidance: If multiple races are collected then the value of RACE should be
                  'MULTIPLE' and the additional information will be included in
                  the Supplemental Qualifiers dataset.
                Document: IG v3.3
                Item: Assumption 6
                Section: '5.2'
            Origin: SDTM and SDTMIG Conformance Rules
            Rule Identifier:
              Id: CG0531
              Version: '1'
            Version: '2.0'
        Version: '3.3'
      - Name: SDTMIG
        References:
          - Citations:
              - Cited Guidance: If multiple races are collected, then the value of RACE should
                  be “MULTIPLE” and the additional information will be included
                  in the Supplemental Qualifiers dataset.
                Document: IG v3.4
                Item: Assumption 6
                Section: '5.2'
            Origin: SDTM and SDTMIG Conformance Rules
            Rule Identifier:
              Id: CG0531
              Version: '1'
            Version: '2.0'
        Version: '3.4'
Check:
  all:
    - name: RACE
      operator: equal_to
      value: MULTIPLE
      value_is_literal: true
    - name: $suppdm_race_count
      operator: less_than_or_equal_to
      value: 1
Core:
  Id: CORE-000846
  Status: Published
  Version: '1'
Description: Part C - Raise an error when RACE in DM equals 'MULTIPLE' but no
  multiple RACE records are present in SUPPDM.
Executability: Fully Executable
Operations:
  - domain: SUPPDM
    filter:
      QNAM: RACE%
    group:
      - USUBJID
    id: $suppdm_race_count
    name: QNAM
    operator: record_count
Outcome:
  Message: RACE in DM equals 'MULTIPLE' but multiple races are not collected in SUPPDM.
  Output Variables:
    - RACE
    - $suppdm_race_count
Rule Type: Record Data
Scope:
  Classes:
    Include:
      - ALL
  Domains:
    Include:
      - DM
Sensitivity: Record
